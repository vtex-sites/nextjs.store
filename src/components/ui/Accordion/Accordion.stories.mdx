import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs'
import { List as UIList } from '@faststore/ui'
import { useState } from 'react'

import Accordion, { AccordionItem } from '.'
import Icon from '../Icon'

import {
  TokenTable,
  TokenRow,
  TokenDivider,
} from 'src/../.storybook/components'

<Meta title="Molecules/Accordion" />

export const values = Array.from({ length: 5 }).map((_, i) => `Item ${i + 1}`)

export const items = [
  {
    title: 'Title 1',
    values: [...values],
  },
  {
    title: 'Title 2',
    values: [...values],
  },
  {
    title: 'Title 3',
    values: [...values],
  },
  {
    title: 'Title 4',
    values: [...values],
  },
]

export const Template = (args) => {
  const [indices, setIndices] = useState([0])
  const onChange = (index) => {
    setIndices([index])
  }
  return (
    <Accordion expandedIndices={indices} onChange={onChange}>
      {items.map((item, index) => (
        <AccordionItem
          key={item.title}
          isExpanded={indices.includes(index)}
          buttonLabel={item.title}
        >
          <UIList>
            {item.values.map((label) => {
              return <li key={label}>{label}</li>
            })}
          </UIList>
        </AccordionItem>
      ))}
    </Accordion>
  )
}

<header>

# Accordion

Accordion display an expandable/collapsible list of items. The final Accordion component is a compound of the following:

</header>

## Overview

The `Accordion` component uses [FastStore UI Accordion](https://www.faststore.dev/reference/ui/molecules/Accordion) as base.

<Canvas>
  <Story name="overview-default">{Template.bind({})}</Story>
</Canvas>

---
